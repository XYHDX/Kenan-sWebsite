(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[116],{2090:(e,t,l)=>{Promise.resolve().then(l.bind(l,2412))},5680:(e,t,l)=>{"use strict";l.d(t,{A:()=>a});let a=(0,l(4091).A)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},2412:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>i});var a=l(2860),s=l(3200);let r=(0,l(4091).A)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);var o=l(5680),n=l(4612),c=l.n(n);let i=()=>{let[e,t]=(0,s.useState)(""),[l,n]=(0,s.useState)(""),[i,d]=(0,s.useState)(!1),[m,u]=(0,s.useState)(!1),[x,g]=(0,s.useState)(!1),[h,p]=(0,s.useState)(""),[b,f]=(0,s.useState)(0),[y,v]=(0,s.useState)(null),[j,w]=(0,s.useState)("");(0,s.useEffect)(()=>{let e=localStorage.getItem("loginAttempts"),t=localStorage.getItem("lockedUntil");if(e&&f(parseInt(e)),t){let e=parseInt(t);e>Date.now()?v(e):(localStorage.removeItem("lockedUntil"),localStorage.removeItem("loginAttempts"))}},[]),(0,s.useEffect)(()=>{if(!y)return;let e=setInterval(()=>{let t=Date.now();if(t>=y){v(null),f(0),localStorage.removeItem("lockedUntil"),localStorage.removeItem("loginAttempts"),clearInterval(e);return}let l=Math.ceil((y-t)/1e3),a=Math.floor(l/60),s=l%60;w("".concat(a,":").concat(s<10?"0":"").concat(s))},1e3);return()=>clearInterval(e)},[y]);let N=async t=>{if(t.preventDefault(),!(y&&y>Date.now())){g(!0),p("");try{if("yahyademeriah@gmail.com"===e&&"admin123"===l)f(0),localStorage.removeItem("loginAttempts"),localStorage.removeItem("lockedUntil"),sessionStorage.setItem("isLoggedIn","true"),m&&localStorage.setItem("isLoggedIn","true"),window.location.href="/admin";else{let e=b+1;if(f(e),localStorage.setItem("loginAttempts",e.toString()),e>=5){let e=Date.now()+9e5;v(e),localStorage.setItem("lockedUntil",e.toString()),p("Too many failed login attempts. Account locked for 15 minutes.")}else p("Invalid email or password. ".concat(5-e," attempts remaining."))}}catch(e){p("An error occurred during login. Please try again.")}finally{g(!1)}}};return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-lg shadow-md",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Admin Login"}),(0,a.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to manage your CV website"})]}),h&&(0,a.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-4",children:(0,a.jsx)("div",{className:"flex",children:(0,a.jsx)("div",{className:"ml-3",children:(0,a.jsx)("p",{className:"text-sm text-red-700",children:h})})})}),y&&y>Date.now()?(0,a.jsx)("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 p-4 mb-4",children:(0,a.jsx)("div",{className:"flex",children:(0,a.jsx)("div",{className:"ml-3",children:(0,a.jsxs)("p",{className:"text-sm text-yellow-700",children:["Account locked due to too many failed attempts.",(0,a.jsx)("br",{}),"Try again in ",j,"."]})})})}):(0,a.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:N,children:[(0,a.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),(0,a.jsx)("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm text-gray-800",placeholder:"Email address",value:e,onChange:e=>t(e.target.value),style:{color:"#1f2937"}})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),(0,a.jsx)("input",{id:"password",name:"password",type:i?"text":"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm text-gray-800",placeholder:"Password",value:l,onChange:e=>n(e.target.value),style:{color:"#1f2937"}}),(0,a.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>d(!i),children:i?(0,a.jsx)(r,{className:"h-5 w-5 text-gray-400"}):(0,a.jsx)(o.A,{className:"h-5 w-5 text-gray-400"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",checked:m,onChange:e=>u(e.target.checked)}),(0,a.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),(0,a.jsx)("div",{className:"text-sm",children:(0,a.jsx)(c(),{href:"/admin/forgot-password",className:"font-medium text-blue-600 hover:text-blue-500",children:"Forgot your password?"})})]}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{type:"submit",disabled:x||null!==y&&y>Date.now(),className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white ".concat(x||null!==y&&y>Date.now()?"bg-blue-400":"bg-blue-600 hover:bg-blue-700"," focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"),children:x?"Signing in...":"Sign in"})}),(0,a.jsx)("div",{className:"text-center mt-4",children:(0,a.jsx)(c(),{href:"/",className:"font-medium text-blue-600 hover:text-blue-500",children:"Return to website"})})]})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[842,685,411,358],()=>t(2090)),_N_E=e.O()}]);